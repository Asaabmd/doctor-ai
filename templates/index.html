<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Doctor AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f9f9f9;
    }

    .top-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .top-header img {
      height: 60px;
    }

    h2 {
      color: #004d99;
      flex-grow: 1;
      text-align: center;
    }

    .section {
      margin-bottom: 20px;
    }

    .mic-icon {
      margin-left: 10px;
      cursor: pointer;
    }

    .notice {
      background-color: #fff3cd;
      border: 1px solid #ffeeba;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      color: #856404;
    }

    .submit-btn {
      background-color: #007bff;
      color: white;
      padding: 10px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .submit-btn:hover {
      background-color: #0056b3;
    }

    textarea, input, select {
      width: 100%;
      padding: 10px;
      margin: 6px 0;
      box-sizing: border-box;
    }

    .modal {
      background: #e6f0ff;
      border: 1px solid #99c2ff;
      padding: 20px;
      border-radius: 6px;
      margin-top: 20px;
    }

    details summary {
      font-weight: bold;
      margin-top: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div class="top-header">
    <img src="{{ url_for('static', filename='doctor.jpeg') }}" alt="Doctor">
    <h2>Doctor AI</h2>
    <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo">
  </div>

  <div class="notice">
    ðŸ”’ This is a one-time free session. Subscribe to get unlimited access.
  </div>

  <form method="POST">
    <div class="section">
      <label for="symptoms">Describe your symptoms:</label>
      <textarea name="symptoms" rows="4" required></textarea>
    </div>

    <details>
      <summary>Click to provide more detail</summary>

      <div class="section">
        <label for="age_range">Age Range:</label>
        <select name="age_range">
          <option value="skip">Prefer not to say</option>
          <option value="0-12">0â€“12</option>
          <option value="13-19">13â€“19</option>
          <option value="20-40">20â€“40</option>
          <option value="41-60">41â€“60</option>
          <option value="61+">61+</option>
        </select>
      </div>

      <div class="section">
        <label for="sex">Sex/Gender:</label>
        <select name="sex">
          <option value="skip">Prefer not to say</option>
          <option value="female">Female</option>
          <option value="male">Male</option>
          <option value="other">Other</option>
        </select>
      </div>

      <div class="section">
        <label for="existing_conditions">Existing conditions:</label>
        <input type="text" name="existing_conditions">
      </div>

      <div class="section">
        <label for="allergies">Allergies:</label>
        <input type="text" name="allergies">
      </div>

      <div class="section">
        <label for="medications">Current medications:</label>
        <input type="text" name="medications">
      </div>

      <div class="section">
        <label for="onset">When did it start?</label>
        <input type="text" name="onset">
      </div>

      <div class="section">
        <label for="better">What makes it better?</label>
        <input type="text" name="better">
      </div>

      <div class="section">
        <label for="worse">What makes it worse?</label>
        <input type="text" name="worse">
      </div>

      <div class="section">
        <label for="severity">Severity (1â€“10):</label>
        <input type="text" name="severity">
      </div>

      <div class="section">
        <label for="treatments">What have you tried?</label>
        <input type="text" name="treatments">
      </div>

    </details>

    <button type="submit" class="submit-btn">Submit</button>
  </form>

  {% if response %}
    <div class="modal">
      <strong>Doctor AI Summary:</strong>
      <p>{{ response | safe }}</p>

      <form method="POST" action="/followup">
        <label for="followup">Have a follow-up question?</label>
        <textarea name="followup" rows="2" placeholder="Ask your follow-up..." required></textarea>
        <br>
        <button class="submit-btn" type="submit">Submit Follow-up Question</button>
      </form>
    </div>
  {% endif %}

</body>
</html>